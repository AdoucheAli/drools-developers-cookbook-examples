package drools.cookbook.chapter01

import drools.cookbook.chapter01.Server
import drools.cookbook.chapter01.Virtualization
import drools.cookbook.chapter01.VirtualizationRequest

query serverCpuUsage(int maxValue)
	$server : Server(cpuUsage <= maxValue)
end

rule "Check the minimum server configuration"
dialect "mvel"
when
	$server : Server(processors < 2 || memory<=1024 || diskSpace<=250)
then
	System.out.println("Server \"" + $server.name + "\" was rejected by don't apply the minimum configuration.");
	retract($server);
end